---
title: "champs_reporter"
author: "Girls of Steel Scouting"
date: "2024-04-03"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, message = FALSE}
library(devtools)
load_all("../tbaR")
source("statbotics_readR.R")

event_code <- "2024gaalb"

registered_teams <- event_teams(event_code, keys = TRUE)
registered_teams <- as.numeric(
    substr(registered_teams, 4, nchar(registered_teams))
)

statbotics_data <- data.frame(t(sapply(registered_teams, read_team)))
```

```{r}
# gabriel's guided tour of historical matches

# fundamentally, we want to mitigate API risk by looking at historical matches
# as well as matches at the championship.

# explain additional parameters through "..."
all_2024_matches <- sapply(registered_teams, team_matches, year = 2024)

# why are these not all the same?
sapply(all_2024_matches, ncol)

# check this output
tmp <- merge(all_2024_matches[[4]], all_2024_matches[[1]], all = TRUE)

result <- all_2024_matches %>%
    reduce(full_join)

# do we need to trim possibly-duplicate rows (i.e. if two teams were in the same match?)
```

